<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Parser_utility (OCamlPolymorphicVariantsTypes.Miniml.Parser_utility)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">OCamlPolymorphicVariantsTypes</a> &#x00BB; <a href="../index.html">Miniml</a> &#x00BB; Parser_utility</nav><header class="odoc-preamble"><h1>Module <code><span>Miniml.Parser_utility</span></code></h1><p>Copyright 2024-2027, Ilia Suponev</p></header><div class="odoc-content"><p>SPDX-License-Identifier: LGPL-3.0-or-later</p><div class="odoc-spec"><div class="spec type anchored" id="type-parser_state"><a href="#type-parser_state" class="anchor"></a><code><span><span class="keyword">type</span> parser_state</span><span> = </span><span>{</span></code><ol><li id="type-parser_state.input" class="def record field anchored"><a href="#type-parser_state.input" class="anchor"></a><code><span>input : <span>char list</span>;</span></code></li><li id="type-parser_state.line" class="def record field anchored"><a href="#type-parser_state.line" class="anchor"></a><code><span>line : int;</span></code></li><li id="type-parser_state.inline" class="def record field anchored"><a href="#type-parser_state.inline" class="anchor"></a><code><span>inline : int;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_parser_state"><a href="#val-pp_parser_state" class="anchor"></a><code><span><span class="keyword">val</span> pp_parser_state : 
  <span><span class="xref-unresolved">Ppx_deriving_runtime</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-parser_state">parser_state</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Ppx_deriving_runtime</span>.unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_parser_state"><a href="#val-show_parser_state" class="anchor"></a><code><span><span class="keyword">val</span> show_parser_state : <span><a href="#type-parser_state">parser_state</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_deriving_runtime</span>.string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-parse_result"><a href="#type-parse_result" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a parse_result</span></span><span> = </span></code><ol><li id="type-parse_result.ParseSuccess" class="def variant constructor anchored"><a href="#type-parse_result.ParseSuccess" class="anchor"></a><code><span>| </span><span><span class="constructor">ParseSuccess</span> <span class="keyword">of</span> <span class="type-var">'a</span> * <a href="#type-parser_state">parser_state</a></span></code></li><li id="type-parse_result.ParseError" class="def variant constructor anchored"><a href="#type-parse_result.ParseError" class="anchor"></a><code><span>| </span><span><span class="constructor">ParseError</span> <span class="keyword">of</span> string * <a href="#type-parser_state">parser_state</a></span></code></li><li id="type-parse_result.ParseFail" class="def variant constructor anchored"><a href="#type-parse_result.ParseFail" class="anchor"></a><code><span>| </span><span><span class="constructor">ParseFail</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_parse_result"><a href="#val-pp_parse_result" class="anchor"></a><code><span><span class="keyword">val</span> pp_parse_result : 
  <span><span>(<span><span class="xref-unresolved">Ppx_deriving_runtime</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_deriving_runtime</span>.unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Ppx_deriving_runtime</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="#type-parse_result">parse_result</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Ppx_deriving_runtime</span>.unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_parse_result"><a href="#val-show_parse_result" class="anchor"></a><code><span><span class="keyword">val</span> show_parse_result : 
  <span><span>(<span><span class="xref-unresolved">Ppx_deriving_runtime</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_deriving_runtime</span>.unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="#type-parse_result">parse_result</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Ppx_deriving_runtime</span>.string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-parser"><a href="#type-parser" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a parser</span></span><span> = <span><a href="#type-parser_state">parser_state</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-parse_result">parse_result</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_parser"><a href="#val-pp_parser" class="anchor"></a><code><span><span class="keyword">val</span> pp_parser : 
  <span><span>(<span><span class="xref-unresolved">Ppx_deriving_runtime</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_deriving_runtime</span>.unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Ppx_deriving_runtime</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Ppx_deriving_runtime</span>.unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_parser"><a href="#val-show_parser" class="anchor"></a><code><span><span class="keyword">val</span> show_parser : 
  <span><span>(<span><span class="xref-unresolved">Ppx_deriving_runtime</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_deriving_runtime</span>.unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Ppx_deriving_runtime</span>.string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pfail"><a href="#val-pfail" class="anchor"></a><code><span><span class="keyword">val</span> pfail : <span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-perror"><a href="#val-perror" class="anchor"></a><code><span><span class="keyword">val</span> perror : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-preturn"><a href="#val-preturn" class="anchor"></a><code><span><span class="keyword">val</span> preturn : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;*&gt;)"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*&gt;) : 'a 'b. <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&gt;&gt;=)"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;=) : 'a 'b. <span><span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-parser">parser</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&gt;&gt;|)"><a href="#val-(&gt;&gt;|)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;|) : 'a 'b. <span><span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(*&gt;)"><a href="#val-(*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (*&gt;) : 'a 'b. <span><span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;*)"><a href="#val-(&lt;*)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*) : 'a 'b. <span><span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-many"><a href="#val-many" class="anchor"></a><code><span><span class="keyword">val</span> many : <span><span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-many1"><a href="#val-many1" class="anchor"></a><code><span><span class="keyword">val</span> many1 : <span><span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;|&gt;)"><a href="#val-(&lt;|&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;|&gt;) : <span><span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-one_of"><a href="#val-one_of" class="anchor"></a><code><span><span class="keyword">val</span> one_of : <span><span><span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-char_predicate"><a href="#type-char_predicate" class="anchor"></a><code><span><span class="keyword">type</span> char_predicate</span><span> = <span>char <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_char_predicate"><a href="#val-pp_char_predicate" class="anchor"></a><code><span><span class="keyword">val</span> pp_char_predicate : 
  <span><span class="xref-unresolved">Ppx_deriving_runtime</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-char_predicate">char_predicate</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Ppx_deriving_runtime</span>.unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_char_predicate"><a href="#val-show_char_predicate" class="anchor"></a><code><span><span class="keyword">val</span> show_char_predicate : <span><a href="#type-char_predicate">char_predicate</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_deriving_runtime</span>.string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_whitespace"><a href="#val-is_whitespace" class="anchor"></a><code><span><span class="keyword">val</span> is_whitespace : <a href="#type-char_predicate">char_predicate</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_digit"><a href="#val-is_digit" class="anchor"></a><code><span><span class="keyword">val</span> is_digit : <a href="#type-char_predicate">char_predicate</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_ascci_letter"><a href="#val-is_ascci_letter" class="anchor"></a><code><span><span class="keyword">val</span> is_ascci_letter : <a href="#type-char_predicate">char_predicate</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-state_changer"><a href="#type-state_changer" class="anchor"></a><code><span><span class="keyword">type</span> state_changer</span><span> = <span>char <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-parser_state">parser_state</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-parser_state">parser_state</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_state_changer"><a href="#val-pp_state_changer" class="anchor"></a><code><span><span class="keyword">val</span> pp_state_changer : 
  <span><span class="xref-unresolved">Ppx_deriving_runtime</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-state_changer">state_changer</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Ppx_deriving_runtime</span>.unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_state_changer"><a href="#val-show_state_changer" class="anchor"></a><code><span><span class="keyword">val</span> show_state_changer : <span><a href="#type-state_changer">state_changer</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_deriving_runtime</span>.string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default_schanger"><a href="#val-default_schanger" class="anchor"></a><code><span><span class="keyword">val</span> default_schanger : <a href="#type-state_changer">state_changer</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-satisfy"><a href="#val-satisfy" class="anchor"></a><code><span><span class="keyword">val</span> satisfy : 
  <span><a href="#type-char_predicate">char_predicate</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>char <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-state_changer">state_changer</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-parser_state">parser_state</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="#type-parse_result">parse_result</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dsatisfy"><a href="#val-dsatisfy" class="anchor"></a><code><span><span class="keyword">val</span> dsatisfy : 
  <span><a href="#type-char_predicate">char_predicate</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>char <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-parser_state">parser_state</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="#type-parse_result">parse_result</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-asatisfy"><a href="#val-asatisfy" class="anchor"></a><code><span><span class="keyword">val</span> asatisfy : <span><span>(<span>char <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-parser_state">parser_state</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-parse_result">parse_result</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-symbol"><a href="#val-symbol" class="anchor"></a><code><span><span class="keyword">val</span> symbol : <span>char <span class="arrow">&#45;&gt;</span></span> <span>char <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sequence"><a href="#val-sequence" class="anchor"></a><code><span><span class="keyword">val</span> sequence : <span><span>char list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>char list</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ssequence"><a href="#val-ssequence" class="anchor"></a><code><span><span class="keyword">val</span> ssequence : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>char list</span> <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-skip_ws"><a href="#val-skip_ws" class="anchor"></a><code><span><span class="keyword">val</span> skip_ws : <span>unit <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-digit"><a href="#val-digit" class="anchor"></a><code><span><span class="keyword">val</span> digit : <span><a href="#type-parser_state">parser_state</a> <span class="arrow">&#45;&gt;</span></span> <span>int <a href="#type-parse_result">parse_result</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-asequence"><a href="#val-asequence" class="anchor"></a><code><span><span class="keyword">val</span> asequence : <span><span>char list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assequence"><a href="#val-assequence" class="anchor"></a><code><span><span class="keyword">val</span> assequence : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse"><a href="#val-parse" class="anchor"></a><code><span><span class="keyword">val</span> parse : <span><span><span class="type-var">'a</span> <a href="#type-parser">parser</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-parse_result">parse_result</a></span></span></code></div></div></div></body></html>
